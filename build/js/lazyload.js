function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";"function"==typeof define&&define.amd&&(t=window);var e={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},o=function t(){var e={},o=!1,r=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],r++);for(var n=function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o&&"[object Object]"===Object.prototype.toString.call(r[s])?e[s]=t(!0,e[s],r[s]):e[s]=r[s])};r<s;r++){n(arguments[r])}return e};function r(t,r){this.settings=o(e,r||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(r.prototype={init:function(){if(t.IntersectionObserver){var e=this,o={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(t){Array.prototype.forEach.call(t,(function(t){if(t.isIntersecting){e.observer.unobserve(t.target);var o=t.target.getAttribute(e.settings.src),r=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(o&&(t.target.src=o),r&&(t.target.srcset=r)):t.target.style.backgroundImage="url("+o+")"}}))}),o),Array.prototype.forEach.call(this.images,(function(t){e.observer.observe(t)}))}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var t=this;Array.prototype.forEach.call(this.images,(function(e){var o=e.getAttribute(t.settings.src),r=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(o&&(e.src=o),r&&(e.srcset=r)):e.style.backgroundImage="url('"+o+"')"}))}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new r(t,e)},t.jQuery){var s=t.jQuery;s.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new r(s.makeArray(this),t),this}}return r}));
//# sourceMappingURL=lazyload.js.map
